# This is configuration for standard experiment. Please refer to config.py for more details.
name: 'Dbr-FFHQ-baseline'
description: >
    stylegan2 baseline
n_sample: 64
resolution: 256
classes:
- 'target'

ADA:
  enabled: false
  target: 0.6  # set 0 to fix prob.
  p: 0.0
  interval: 4
  kimg: 500
  KWARGS:
    aniso: 0
    xfrac: 0
    brightness: 0
    contrast: 0
    lumaflip: 0
    hue: 0
    saturation: 0

DATASET:
  name: FFHQ256
  root: '~/data/FFHQ'
  sources:
    - 'images256x256-cropface'   # subdirectory of human image
    - 'images256x256'            # directory of face image
  xflip: true
  num_workers: 4
  pin_memory: true

MODEL:
  z_dim: 512
  w_dim: 512
  mode: 'joint'
  freeze_teacher: false
  teacher_weight: ''

  MAPPING:
    num_layers: 8
    # embed_dim: 512
    # layer_dim: 512
    lrmul: 0.01
  
  SYNTHESIS:
    img_channels: 3
    bottom_res: 4
    channel_base: 16384

  ATTENTION:
    resolutions: []
    feature_types: 'relu'

  DISCRIMINATOR:
    img_channels: [3]
    c_dim: 0
    branch_res: 32
    top_res: 4
    channel_base: 16384


TRAIN:
  iteration: 600000
  batch_gpu: 4
  lrate: 0.0025
  lrate_atten: 0.002
  R1:
    every: 16
    gamma: 1.
  PPL:
    every: 8
    gain: 2
    bs_shrink: 2
  style_mixing_prob: 0.0
  CKPT:
    path: 'results/00082-13htg63w-8gpu-Dbr-FFHQ-baseline/checkpoints/ckpt-300000.pt'
    every: 6250
    max_keep: -1
  SAMPLE:
    every: 6250

EVAL:
  metrics: 'fid'
  batch_gpu: 8
  FID:
    every: 6250
    batch_gpu: 64
    n_sample: 50000
    inception_cache: 'results/00072-1ekeybpf-8gpu-Dbr-FFHQ-Mix/inception_cache.pkl'

